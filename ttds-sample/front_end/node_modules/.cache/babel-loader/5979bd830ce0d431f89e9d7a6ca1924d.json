{"ast":null,"code":"import _classCallCheck from\"/Users/lingyun/EdinburghPGT/TTDS/Project/ttds-sample/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/lingyun/EdinburghPGT/TTDS/Project/ttds-sample/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/lingyun/EdinburghPGT/TTDS/Project/ttds-sample/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/lingyun/EdinburghPGT/TTDS/Project/ttds-sample/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/lingyun/EdinburghPGT/TTDS/Project/ttds-sample/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Layout,Button}from'antd';import'./MainPage.css';import myIcon from'../images/logo.png';import{Link}from\"react-router-dom\";import HttpUtil from'./HttpUtil';import ApiUtil from'./ApiUtil';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=Layout.Header,Content=Layout.Content;var MainPage=/*#__PURE__*/function(_React$Component){_inherits(MainPage,_React$Component);var _super=_createSuper(MainPage);function MainPage(props){var _this;_classCallCheck(this,MainPage);_this=_super.call(this,props);_this.state={inputValue:'',reviewInfo:[]};_this.handleClickBtn=_this.handleClickBtn.bind(_assertThisInitialized(_this));return _this;}_createClass(MainPage,[{key:\"handleChange\",value:function handleChange(e){this.setState({inputValue:e.target.value});}},{key:\"handleClickBtn\",value:function handleClickBtn(event){var _this2=this;var movieName=this.state.inputValue;HttpUtil.post('/ReviewOverall',movieName).then(function(reviewDic){// this.allReviewData = reviewDic;\n// console.log(reviewDic)\n_this2.allReviewData=reviewDic;_this2.setState({reviewInfo:reviewDic});// console.log(this.state.reviewInfo)\n// console.log(this.allReviewData)\n});// var path = `/ReviewOverall/${movieName}\b`\nvar path={pathname:'/ReviewOverall',state:{name:movieName,reviewInfo:this.state.reviewInfo}};this.props.history.push(path);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"title\",{children:\"main\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"MainPage.css\"}),/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"figure\",{children:/*#__PURE__*/_jsx(\"img\",{src:myIcon,alt:\"logo\"})})}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"search_content\",placeholder:\"Please input movie name\",onChange:this.handleChange.bind(this),value:this.state.inputValue,color:\"\"}),/*#__PURE__*/_jsx(Button,{style:{margin:\"20px\"},type:\"primary\",onClick:this.handleClickBtn,children:\"Search\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"selector\",name:\"choice\",defaultValue:\"movies name\"}),\"movie\",/*#__PURE__*/_jsx(\"input\",{type:\"radio\",className:\"selector\",name:\"choice\",defaultValue:\"review\"}),\"review\"]}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"TTDS CW3\"})})]});}}]);return MainPage;}(React.Component);export default MainPage;","map":{"version":3,"sources":["/Users/lingyun/EdinburghPGT/TTDS/Project/ttds-sample/front_end/src/pages/MainPage.js"],"names":["React","Layout","Button","myIcon","Link","HttpUtil","ApiUtil","Header","Content","MainPage","props","state","inputValue","reviewInfo","handleClickBtn","bind","e","setState","target","value","event","movieName","post","then","reviewDic","allReviewData","path","pathname","name","history","push","handleChange","margin","Component"],"mappings":"y4BACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,CAAiBC,MAAjB,KAA8B,MAA9B,CAEA,MAAO,gBAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,oBAAnB,CACA,OAASC,IAAT,KAAoB,kBAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,2FACQC,CAAAA,M,CAAoBN,M,CAApBM,M,CAAQC,O,CAAYP,M,CAAZO,O,IAEVC,CAAAA,Q,gHACF,kBAAYC,KAAZ,CAAmB,0CACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAW,CACTC,UAAU,CAAC,EADF,CAETC,UAAU,CAAE,EAFH,CAAX,CAKA,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBC,IAApB,+BAAtB,CAPe,aAQlB,C,iDAED,sBAAaC,CAAb,CAAe,CACb,KAAKC,QAAL,CAAc,CACZL,UAAU,CAACI,CAAC,CAACE,MAAF,CAASC,KADR,CAAd,EAGD,C,8BAED,wBAAeC,KAAf,CAAsB,iBACpB,GAAIC,CAAAA,SAAS,CAAG,KAAKV,KAAL,CAAWC,UAA3B,CAEAP,QAAQ,CAACiB,IAAT,CAAc,gBAAd,CAAgCD,SAAhC,EACGE,IADH,CAEI,SAAAC,SAAS,CAAG,CACR;AACA;AACA,MAAI,CAACC,aAAL,CAAqBD,SAArB,CACA,MAAI,CAACP,QAAL,CAAc,CACVJ,UAAU,CAAEW,SADF,CAAd,EAGA;AACA;AACH,CAXL,EAaA;AACA,GAAIE,CAAAA,IAAI,CAAG,CACTC,QAAQ,CAAC,gBADA,CAEThB,KAAK,CAAE,CAACiB,IAAI,CAACP,SAAN,CAAiBR,UAAU,CAAE,KAAKF,KAAL,CAAWE,UAAxC,CAFE,CAAX,CAKA,KAAKH,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwBJ,IAAxB,EACD,C,sBACD,iBAAQ,CACJ,mBACI,oCACA,+BADA,cAEA,aAAM,GAAG,CAAC,YAAV,CAAuB,IAAI,CAAC,cAA5B,EAFA,cAGA,qCACE,qCACE,YAAK,GAAG,CAAEvB,MAAV,CAAkB,GAAG,CAAC,MAAtB,EADF,EADF,EAHA,cAQA,wCACE,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,gBAA7B,CAA8C,WAAW,CAAC,yBAA1D,CACA,QAAQ,CAAE,KAAK4B,YAAL,CAAkBhB,IAAlB,CAAuB,IAAvB,CADV,CACwC,KAAK,CAAE,KAAKJ,KAAL,CAAWC,UAD1D,CACsE,KAAK,CAAC,EAD5E,EADF,cAGE,KAAC,MAAD,EAAQ,KAAK,CAAE,CAACoB,MAAM,CAAC,MAAR,CAAf,CAAgC,IAAI,CAAC,SAArC,CAA+C,OAAO,CAAE,KAAKlB,cAA7D,oBAHF,cAIE,cAAO,IAAI,CAAC,OAAZ,CAAoB,SAAS,CAAC,UAA9B,CAAyC,IAAI,CAAC,QAA9C,CAAuD,YAAY,CAAC,aAApE,EAJF,sBAKE,cAAO,IAAI,CAAC,OAAZ,CAAoB,SAAS,CAAC,UAA9B,CAAyC,IAAI,CAAC,QAA9C,CAAuD,YAAY,CAAC,QAApE,EALF,YARA,cAeA,qCACE,+BADF,EAfA,GADJ,CAuBH,C,sBAjEkBd,KAAK,CAACiC,S,EAoE7B,cAAexB,CAAAA,QAAf","sourcesContent":["\nimport React from 'react';\nimport { Layout, Button} from 'antd';\n \nimport './MainPage.css';\nimport myIcon from '../images/logo.png';\nimport { Link} from \"react-router-dom\";\nimport HttpUtil from './HttpUtil';\nimport ApiUtil from './ApiUtil';\nconst { Header, Content } = Layout;\n \nclass MainPage extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state={\n          inputValue:'',\n          reviewInfo: [],\n\n        }\n        this.handleClickBtn = this.handleClickBtn.bind(this);\n    }\n\n    handleChange(e){\n      this.setState({\n        inputValue:e.target.value\n      })\n    }\n\n    handleClickBtn(event) {\n      var movieName = this.state.inputValue\n\n      HttpUtil.post('/ReviewOverall', movieName)\n        .then(\n          reviewDic =>{\n              // this.allReviewData = reviewDic;\n              // console.log(reviewDic)\n              this.allReviewData = reviewDic\n              this.setState({\n                  reviewInfo: reviewDic\n              });\n              // console.log(this.state.reviewInfo)\n              // console.log(this.allReviewData)\n          }\n      );\n      // var path = `/ReviewOverall/${movieName}\b`\n      var path = {\n        pathname:'/ReviewOverall',\n        state: {name:movieName, reviewInfo: this.state.reviewInfo},\n        \n      }\n      this.props.history.push(path);\n    }\n    render(){\n        return (\n            <div>\n            <title>main</title>\n            <link rel=\"stylesheet\" href=\"MainPage.css\" />\n            <header>\n              <figure>\n                <img src={myIcon} alt=\"logo\" />\n              </figure>\n            </header>\n            <section>\n              <input type=\"text\" className=\"search_content\" placeholder=\"Please input movie name\"\n              onChange={this.handleChange.bind(this)} value={this.state.inputValue} color=\"\"/>\n              <Button style={{margin:\"20px\"}} type=\"primary\" onClick={this.handleClickBtn}>Search</Button>\n              <input type=\"radio\" className=\"selector\" name=\"choice\" defaultValue=\"movies name\" />movie\n              <input type=\"radio\" className=\"selector\" name=\"choice\" defaultValue=\"review\" />review\n            </section>  \n            <footer>\n              <p>\n                TTDS CW3\n              </p>\n            </footer>\n          </div>\n        );\n    }\n}\n\nexport default MainPage;"]},"metadata":{},"sourceType":"module"}